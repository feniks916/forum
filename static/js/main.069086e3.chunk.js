(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(70),o=n.n(i),c=(n(86),n(22)),s=n.n(c),l=n(45),u=n(6),p=n(21),d=n.n(p),m=n(46),f=n.n(m),h=n(30),g=n(29),w=n(146),x=n(2),b=n(3);function k(){var e=Object(x.a)(["\n  width: 251px;\n  height: 50px;\n  background: ",";\n  box-shadow: none;\n  outline: none;\n  border: 1px solid #dfe5ec;\n  border-top-left-radius:5px;\n  border-bottom-left-radius:5px;\n  p {\n    color: ",";\n    text-transform: uppercase;\n    font-weight: 600;\n    font-size: 12px;\n    padding-top: 15px;\n    font-family: sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 12px;\n    line-height: 20px;\n  }\n"]);return k=function(){return e},e}function T(){var e=Object(x.a)(["\n  width: 251px;\n  height: 50px;\n  background: ",";\n  box-shadow: none;\n  outline: none;\n  border: 1px solid #dfe5ec;\n  border-top-right-radius:5px;\n  border-bottom-right-radius:5px;\n  p {\n    color: ",";\n    text-transform: uppercase;\n    font-weight: 600;\n    font-size: 12px;\n    padding-top: 15px;\n    font-family: OpenSans;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 12px;\n    line-height: 20px;\n  }\n"]);return T=function(){return e},e}function v(){var e=Object(x.a)(["\n  margin: 10px;\n"]);return v=function(){return e},e}function E(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  justify-content: flex-start;\n  padding-bottom: 15px;\n  ul {\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n    padding-left:20px; \n    width:161px;\n    padding-bottom:20px;\n  }\n  li {\n    list-style-type: none;\n    span {\n      text-transform: uppercase;\n      color: #a0b0b9;\n      font-style: normal;\n      font-weight: 600;\n      font-size: 12px;\n      line-height: 18px;\n    }\n  }\n"]);return E=function(){return e},e}function M(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  justify-content: flex-start;\n  ul {\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n    padding-left:20px; \n    width:161px;\n  }\n  li {\n    list-style-type: none;\n    span {\n      text-transform: uppercase;\n      color: #a0b0b9;\n      font-style: normal;\n      font-weight: 600;\n      font-size: 12px;\n      line-height: 18px;\n    }\n  }\n"]);return M=function(){return e},e}function y(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return y=function(){return e},e}function j(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  margin: 20px;\n  height: 35px;\n  width: 90%;\n  justify-content: space-between;\n  p {\n    color: #2196f3;\n    font-weight: 600;\n    font-size: 24px;\n  }\n  img {\n    width: 110px;\n    height: 36px;\n    margin-right:18px;\n  }\n"]);return j=function(){return e},e}function B(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 502px;\n  height: 204px;\n  margin: 10px;\n  background-color: white;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n"]);return B=function(){return e},e}var O=b.a.div(B()),F=b.a.div(j()),H=b.a.div(y()),C=b.a.div(M()),_=b.a.div(E()),N=b.a.div(v()),z=b.a.button(T(),(function(e){return e.selected?"#2196f3":"white"}),(function(e){return e.selected?"white":"#4a4a4a"})),I=b.a.button(k(),(function(e){return e.selected?"#2196f3":"white"}),(function(e){return e.selected?"white":"#4a4a4a"}));function S(){var e=Object(x.a)(["\n  margin-left: 25px;\n  label{\n    width: 220px;\n  height: 28px;\n  }\n"]);return S=function(){return e},e}function A(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  list-style-type: none;\n  margin: 0;\n  margin-right: 40px;\n  background-color: white;\n  width: 250px;\n  height: 38px;\n  &:hover {\n    background-color: #f1fcff;\n  }\n"]);return A=function(){return e},e}function V(){var e=Object(x.a)(["\n  padding-top: 20px;\n  padding-left: 20px;\n  text-transform: uppercase;\n  font-size: 12px;\n"]);return V=function(){return e},e}function J(){var e=Object(x.a)(["\n  margin-top: 200px;\n  margin-right: 10px;\n  background-color: white;\n  width: 252px;\n  height: 245px;\n  padding: 0;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n"]);return J=function(){return e},e}var L=b.a.ul(J()),R=b.a.p(V()),W=b.a.li(A()),q=b.a.span(S()),K=n(74),P=n.n(K),$=function(e){var t=Object(a.useState)({first:!0,second:!1}),n=Object(u.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)({stopsInTicketValue:1}),s=Object(u.a)(c,2),l=s[0],p=s[1];console.log(l);var m=Object(a.useState)([]),f=Object(u.a)(m,2),x=f[0],b=f[1];x.length>3&&!x.includes(5)&&b([1,2,3,4,5]);var k=Object(a.useState)([]),T=Object(u.a)(k,2),v=T[0],E=T[1],M=e.ticketsList,y=x,j=[],B=l.stopsInTicketValue,S=[],A=[],V=(A=M.map((function(e,t){return{id:t,price:e.price,company:"//pics.avs.io/99/36/{".concat(e.carrier,"}.png"),forward:"".concat(e.segments[0].origin,"-").concat(e.segments[0].destination),toward:"".concat(e.segments[1].origin,"-").concat(e.segments[0].destination),timeForward:e.segments[0].duration,hours:Math.floor(e.segments[0].duration/60)>=24?Number(e.segments[0].date.split("T")[1].split(".")[0].split(":").splice(0,1))+Number(Math.floor(e.segments[0].duration/60)-24):Number(e.segments[0].date.split("T")[1].split(".")[0].split(":").splice(0,1))+Math.floor(e.segments[0].duration/60),timeToward:e.segments[1].duration,hoursBack:Math.floor(e.segments[1].duration/60)>=24?Number(e.segments[1].date.split("T")[1].split(".")[0].split(":").splice(0,1))+Number(Math.floor(e.segments[1].duration/60)-24):Number(e.segments[1].date.split("T")[1].split(".")[0].split(":").splice(0,1))+Math.floor(e.segments[1].duration/60),stepsForward:e.segments[0].stops.length,stepsToward:e.segments[1].stops.length,stepsForwardCities:e.segments[0].stops.join(", "),stepsTowardCities:e.segments[1].stops.join(", "),filter:Number(e.segments[0].stops.length+e.segments[1].stops.length),data:e.segments[0].date.split("T")[1].split(".")[0].split(":").splice(0,2),endpointTimeH:Number(e.segments[0].date.split("T")[1].split(".")[0].split(":").splice(0,1)),endpointTimeM:Number(e.segments[0].date.split("T")[1].split(".")[0].split(":").splice(1,1)),endpointTimeHBack:Number(e.segments[1].date.split("T")[1].split(".")[0].split(":").splice(0,1)),endpointTimeMBack:Number(e.segments[1].date.split("T")[1].split(".")[0].split(":").splice(1,1))}}))).filter((function(e){return e.stepsForward+e.stepsToward===B}));if(y.length>1){var J=A.filter((function(e){return e.filter===y[0]-1})).slice(0,3);V=A.filter((function(e){return e.filter===y[y.length-1]-1})).slice(0,2).concat(J)}if(y.length>2){var K=A.filter((function(e){return e.filter===y[0]-1})).slice(0,2),$=A.filter((function(e){return e.filter===y[y.length-1]-1})).slice(0,1).concat(K);V=A.filter((function(e){return e.filter===y[y.length-2]-1})).slice(0,2).concat($)}B>3&&(V=A.filter((function(e){return e.stepsForward+e.stepsToward<=B})));for(var D=0;D<5;D++)S.push(V[D]);v.length>0&&(S=v);var G=S.filter((function(e){return void 0!==e})).map((function(e){return{id:e.id,hours:Math.floor(e.timeForward/60),hoursBack:Math.floor(e.timeToward/60),minutes:e.timeForward-60*Math.floor(e.timeForward/60),minutesBack:e.timeToward-60*Math.floor(e.timeToward/60),forward:e.forward,toward:e.toward,timeForward:e.timeForward,timeToward:e.timeToward,stepsForwardCities:e.stepsForwardCities,stepsTowardCities:e.stepsTowardCities,endpointTimeH:e.endpointTimeH>=10?e.endpointTimeH:"0".concat(e.endpointTimeH),endpointTimeHBack:e.endpointTimeHBack>=10?e.endpointTimeHBack:"0".concat(e.endpointTimeHBack),endpointTimeM:e.endpointTimeM>=10?e.endpointTimeM:"0".concat(e.endpointTimeM),endpointTimeMBack:e.endpointTimeMBack>=10?e.endpointTimeMBack:"0".concat(e.endpointTimeMBack),Hdur:e.timeForward-60*Math.floor(e.timeForward/60)+e.endpointTimeM>=60&&e.hours>=24?e.hours-23:e.hours>=24?e.hours-24:e.timeForward-60*Math.floor(e.timeForward/60)+e.endpointTimeM>=60?e.hours+1:e.hours,HdurBack:e.timeToward-60*Math.floor(e.timeToward/60)+e.endpointTimeMBack>=60&&e.hoursBack>=24?e.hoursBack-23:e.hoursBack>=24?e.hoursBack-24:e.timeToward-60*Math.floor(e.timeToward/60)+e.endpointTimeMBack>=60?e.hoursBack+1:e.hoursBack,Mdur:e.timeForward-60*Math.floor(e.timeForward/60)+e.endpointTimeM>=60?e.timeForward-60*Math.floor(e.timeForward/60)+e.endpointTimeM-60:e.timeForward-60*Math.floor(e.timeForward/60)+e.endpointTimeM,MdurBack:e.timeToward-60*Math.floor(e.timeToward/60)+e.endpointTimeMBack>=60?e.timeToward-60*Math.floor(e.timeToward/60)+e.endpointTimeMBack-60:e.timeToward-60*Math.floor(e.timeToward/60)+e.endpointTimeMBack,price:e.price,company:e.company}}));return 0!==A.length?r.a.createElement("div",{className:d.a.body},r.a.createElement(L,null,r.a.createElement(R,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a"),[{key:1,id:1,value:"\u0411\u0435\u0437 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a",steps:0},{key:2,id:2,value:"1 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",steps:1},{key:3,id:3,value:"2 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438",steps:2},{key:4,id:4,value:"3 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438",steps:3},{key:5,id:5,value:"\u0412\u0441\u0435",steps:5}].map((function(e){return r.a.createElement(W,null,r.a.createElement(q,null,e.key<5?r.a.createElement(w.a,{onClick:function(){return function(e){E([]);var t=x.indexOf(e);j=Object(g.a)(x),-1===t?j.push(e):j.splice(t,1),b(j);var n=j.sort((function(e,t){return t-e}));0===n.length&&(n[0]=1),p(Object(h.a)({},l,{stopsInTicketValue:n[0]-1}))}(e.id)},checked:-1!==x.indexOf(e.id)},e.value):r.a.createElement(w.a,{onClick:function(){return t=e.id,-1===x.indexOf(t)&&j.push(1,2,3,4,5),void b(j);var t},checked:-1!==x.indexOf(e.id)}," ",e.value)))}))),r.a.createElement("div",{className:d.a.wrapper},r.a.createElement("img",{className:d.a.img,src:P.a,alt:""}),r.a.createElement(N,null,r.a.createElement(I,{selected:i.first,onClick:function(){o({first:!0,second:!1}),p(Object(h.a)({},l,{stopsInTicketValue:B}));var e=Object(g.a)(v);e=A.sort((function(e,t){return e.price-t.price})).splice(0,5),E(e)}},r.a.createElement("p",null,"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439")),r.a.createElement(z,{selected:i.second,onClick:function(){o({first:!1,second:!0}),p(Object(h.a)({},l,{stopsInTicketValue:B}));var e=Object(g.a)(v);e=A.sort((function(e,t){return e.timeForward+e.timeToward-(t.timeForward+t.timeToward)})).splice(0,5),E(e)}},r.a.createElement("p",null,"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"))),G.map((function(e){return r.a.createElement(O,{key:e.id},r.a.createElement(F,null,r.a.createElement("p",null,"".concat(e.price," P")),r.a.createElement("img",{src:e.company,alt:""})),r.a.createElement(H,null,r.a.createElement(C,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,e.forward)),r.a.createElement("li",null,"".concat(e.endpointTimeH,":").concat(e.endpointTimeM," - ").concat(e.Hdur<10?"0".concat(e.Hdur):e.Hdur,":").concat(e.Mdur>=10?e.Mdur:"0".concat(e.Mdur)))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"\u0432 \u043f\u0443\u0442\u0438")),r.a.createElement("li",null,"".concat(e.hours<10?"0".concat(e.hours):e.hours,"\u0447 ").concat(e.minutes<10?"0".concat(e.minutes):e.minutes,"\u043c"))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"\u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),r.a.createElement("li",null,e.stepsForwardCities.length>0?e.stepsForwardCities:"\u041d\u0435\u0442"))),r.a.createElement(_,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,e.toward)),r.a.createElement("li",null,"".concat(e.endpointTimeHBack,":").concat(e.endpointTimeMBack," - ").concat(e.HdurBack<10?"0".concat(e.HdurBack):e.HdurBack,":").concat(e.MdurBack>=10?e.MdurBack:"0".concat(e.MdurBack)))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"\u0432 \u043f\u0443\u0442\u0438")),r.a.createElement("li",null,"".concat(e.hoursBack<10?"0".concat(e.hoursBack):e.hoursBack,"\u0447  ").concat(e.minutesBack<10?"0".concat(e.minutesBack):e.minutesBack,"\u043c"))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"\u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),r.a.createElement("li",null,e.stepsTowardCities.length>0?e.stepsTowardCities:"\u041d\u0435\u0442")))))})))):"please wait"},D=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(!1),c=Object(u.a)(o,2),p=c[0],d=c[1],m=Object(a.useState)([]),h=Object(u.a)(m,2),g=h[0],w=h[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()("https://front-test.beta.aviasales.ru/search");case 2:t=e.sent,i(t.data.searchId);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){var e=function(){var t=Object(l.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===n){t.next=12;break}return t.prev=1,t.next=4,f()("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(n));case 4:a=t.sent,d(a.data.stop),w(g.concat(a.data.tickets)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),"Request failed with status code 500"===t.t0.message&&e();case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();!1===p&&e()}),[n,p,g]),r.a.createElement($,{ticketsList:g,stop:p})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},21:function(e,t,n){e.exports={body:"App_body__2a4FT",ul:"App_ul__1ntJx",ticketsArea:"App_ticketsArea__1z9yy",wrapper:"App_wrapper__RCHjb",img:"App_img__KttCg"}},74:function(e,t,n){e.exports=n.p+"static/media/logo.0c089234.svg"},81:function(e,t,n){e.exports=n(144)},86:function(e,t,n){}},[[81,1,2]]]);
//# sourceMappingURL=main.069086e3.chunk.js.map
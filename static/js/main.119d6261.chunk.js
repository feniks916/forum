(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{19:function(e,t,a){e.exports={wrapper:"all_wrapper__17p4N",registered:"all_registered__OQSf-",ul:"all_ul__2-Qw3",cardFooter:"all_cardFooter__1v0X5",change:"all_change__3YX_e",delete:"all_delete__FopHT",authorInfo:"all_authorInfo__3krot",dateValue:"all_dateValue__2TMCD",reversedDate:"all_reversedDate__3L6Hm",card:"all_card__7TnR3",Card_leftside:"all_Card_leftside__2HNns",textBody:"all_textBody__2lHwZ",pagination:"all_pagination__1aCmd",form:"all_form__19lG8",input:"all_input__7KoEz",buttonsArea:"all_buttonsArea__g_G58",errors:"all_errors__Bh9Ng"}},191:function(e,t,a){e.exports=a(306)},213:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),l=a.n(c),o=a(85),s=a(2),i=a.n(s),u=a(12),m=a(4),p=a(156).create({baseURL:"https://conduit.productionready.io"});p.interceptors.request.use((function(e){var t=localStorage.getItem("cool-jwt");return t&&(e.headers.Authorization="Token ".concat(t)),e}));var d=p,f={username:"",token:"",value:null,status:null,error:"",loggedIn:!1},E=function(e,t,a){return{type:"SET_USER_DATA",payload:{name:t,token:e,status:a}}},g=function(e){return{type:"SET_ERROR",error:e}},b=function(e){return{type:"SET_LOGGED_IN",status:e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(m.a)({},e,{},t.payload);case"SET_STATUS":return Object(m.a)({},e,{status:t.status});case"SET_ERROR":return Object(m.a)({},e,{error:t.error});case"SET_LOGGED_IN":return Object(m.a)({},e,{loggedIn:t.status});default:return e}},v={articles:[],isLoaded:!1,isReceived:!1,pageNumber:1,pageSize:10,error:"",articlesQuantity:0,currentArticle:{},slug:"",isCreated:!1},_=function(e){return{type:"SET_ERROR",error:e}},y=function(e){return{type:"SET_ISCREATED",isCreated:e}},C=function(e){return{type:"SET_DELETED_SLUG",slug:e}},A=function(e){return{type:"SET_RECIEVED",isReceived:e}},O=function(e){return{type:"GET_CURRENT_ARTICLE",payload:e}},j=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.post("api/articles/".concat(e,"/favorite"));case 3:t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a(_(t.t0.response.data.errors));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.delete("api/articles/".concat(e,"/favorite"));case 3:t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a(_(t.t0.response.data.errors));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ARTICLES_DATA":return Object(m.a)({},e,{},t.payload);case"SET_ERROR":return Object(m.a)({},e,{error:t.error});case"SET_ISCREATED":return Object(m.a)({},e,{isCreated:t.isCreated});case"MAKE_FAVORITE":return Object(m.a)({},e,{articles:e.articles.map((function(e){return e.slug===t.slug?Object(m.a)({},e,{favorited:!0,favoritesCount:e.favoritesCount+1}):e}))});case"MAKE_UNFAVORITE":return Object(m.a)({},e,{articles:e.articles.map((function(e){return e.slug===t.slug?Object(m.a)({},e,{favorited:!1,favoritesCount:e.favoritesCount-1}):e}))});case"MAKE_FAVORITE_CURRENT_ARTICLE":return Object(m.a)({},e,{currentArticle:Object(m.a)({},e.currentArticle,{favorited:!0,favoritesCount:e.currentArticle.favoritesCount+1})});case"MAKE_UNFAVORITE_CURRENT_ARTICLE":return Object(m.a)({},e,{currentArticle:Object(m.a)({},e.currentArticle,{favorited:!1,favoritesCount:e.currentArticle.favoritesCount-1})});case"GET_CURRENT_ARTICLE":return Object(m.a)({},e,{currentArticle:t.payload});case"SET_DELETED_SLUG":return Object(m.a)({},e,{articles:e.articles.filter((function(e){return e.slug!==t.slug}))});case"SET_ISLOADED":return Object(m.a)({},e,{isLoaded:t.isLoaded});case"SET_RECIEVED":return Object(m.a)({},e,{isReceived:t.isReceived});case"GET_SLUG":return Object(m.a)({},e,{slug:t.slug});case"SET_PAGENUMBER":return Object(m.a)({},e,{pageNumber:t.pageNumber});default:return e}},S=a(157),k=Object(o.c)({userData:h,articlesData:I}),N=Object(o.d)(k,Object(o.a)(S.a)),T=(a(213),a(20)),R=a(24),x=a(83),L=a(313),D=a(317),V=a(8),P=a(50),U=a(35),F=a.n(U),B=function(){return localStorage.getItem("cool-jwt")},G=function(){return localStorage.getItem("cool-name")},z=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null!==B()},M=function(){return localStorage.getItem("slug")},K=Object(T.b)((function(e){return{error:e.userData.error,status:e.userData.status,loggedIn:e.userData.loggedIn}}),{RegistrationThunk:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var r,n,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s={user:{email:e.email,password:e.password,username:e.name}},p.post("/api/users",s);case 3:r=t.sent,n=r.data.user,c=n.token,l=n.username,o=r.request.status,a(E(c,l,o)),localStorage.setItem("cool-jwt",r.data.user.token),localStorage.setItem("cool-name",r.data.user.username),a(b(!0)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a(g(t.t0.response.data.errors));case 15:case"end":return t.stop()}var s}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},setErrorAC:g})((function(e){var t=e.status,a=e.error,r=e.RegistrationThunk,c=e.setErrorAC,l=e.loggedIn,o=Object(V.g)();!0===l&&null!==G()&&o.push("/forum/articles"),t<300&&t>199&&o.push("/forum/articles");return n.a.createElement("div",{className:F.a.wrapper},n.a.createElement(x.a,{initialValues:{email:"",name:"",password:"",confirm_password:""},onSubmit:function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,e.next=3,new Promise((function(e){return setTimeout(e,1e3)}));case 3:n(!1),r({email:t.email,password:t.password,name:t.name});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),validationSchema:P.a().shape({confirm_password:P.c().oneOf([P.b("password"),null],"Passwords dont match")})},(function(e){var t=e.values,r=e.touched,l=e.errors,o=e.dirty,s=e.isSubmitting,i=e.handleChange,u=e.handleBlur,m=e.handleSubmit,p=e.handleReset;return n.a.createElement("form",{onSubmit:m,className:F.a.form},n.a.createElement("label",{htmlFor:"email",style:{display:"block"}},"Email"),n.a.createElement(L.a,{id:"email",placeholder:"Enter your email",type:"text",value:t.email,onChange:i,onBlur:u,className:F.a.input}),""!==a&&void 0!==a.email&&n.a.createElement("div",{className:F.a.errors},n.a.createElement(D.a,{message:"Email ".concat(String(a.email[0])),type:"error",showIcon:!0})),n.a.createElement("label",{htmlFor:"email",style:{display:"block"}},"Name"),n.a.createElement(L.a,{id:"name",placeholder:"Enter your name",type:"text",value:t.name,onChange:i,onBlur:u,className:F.a.input}),""!==a&&void 0!==a.username&&n.a.createElement("div",{className:F.a.errors},n.a.createElement(D.a,{message:"Name ".concat(String(a.username[0])),type:"error",showIcon:!0})),n.a.createElement("label",{htmlFor:"email",style:{display:"block"}},"Password"),n.a.createElement(L.a,{id:"password",placeholder:"Enter your name",type:"password",value:t.password,onChange:i,onBlur:u,className:F.a.input}),""!==a&&void 0!==a.password&&n.a.createElement("div",{className:F.a.errors},n.a.createElement(D.a,{message:"Password ".concat(String(a.password[0])),type:"error",showIcon:!0})),n.a.createElement("label",{htmlFor:"email",style:{display:"block"}},"Repeat Password"),n.a.createElement(L.a,{id:"confirm_password",placeholder:"Enter your name",type:"password",value:t.confirm_password,onChange:i,onBlur:u,className:F.a.input}),l.confirm_password&&r.confirm_password&&n.a.createElement("div",{className:F.a.errors},n.a.createElement("p",null,l.confirm_password)),n.a.createElement("div",{className:F.a.buttonsArea},n.a.createElement(R.b,{to:"/forum/LoginPage"}," Login page"),n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"outline",onClick:function(){p(),c("")},disabled:!o||s},"Reset"),n.a.createElement("button",{type:"submit",disabled:s},"Submit"))))})))})),q=a(63),Q=a.n(q),H=Object(T.b)((function(e){return{error:e.userData.error,status:e.userData.status,loggedIn:e.userData.loggedIn}}),{thunk:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var r,n,c,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s={user:{email:e.email,password:e.password}},p.post("/api/users/login",s);case 3:r=t.sent,n=r.data.user,c=n.token,l=n.username,o=r.request.status,a(E(c,l,o)),localStorage.setItem("cool-jwt",r.data.user.token),localStorage.setItem("cool-name",r.data.user.username),a(b(!0)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a(g(t.t0.response.data.errors));case 15:case"end":return t.stop()}var s}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},setErrorAC:g})((function(e){var t=e.status,a=e.error,r=e.thunk,c=e.setErrorAC,l=e.loggedIn,o=Object(V.g)();!0===l&&null!==G()&&o.push("/forum/articles");if(t<300&&t>199)return!0===l&&o.push("/forum/articles"),"redirecting...";return n.a.createElement("div",{className:Q.a.wrapper},n.a.createElement("button",{onClick:function(){o.push("/forum/articles")},className:Q.a.articles}," ",n.a.createElement("p",null," Atricles")),n.a.createElement(x.a,{initialValues:{email:"",password:""},onSubmit:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:r({email:t.email,password:t.password});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,r=e.dirty,l=e.isSubmitting,o=e.handleChange,s=e.handleBlur,i=e.handleSubmit,u=e.handleReset;return n.a.createElement("form",{onSubmit:i,className:Q.a.form},n.a.createElement("label",{htmlFor:"email",style:{display:"block"}},"Email"),n.a.createElement(L.a,{id:"email",placeholder:"Enter your email",type:"text",value:t.email,onChange:o,onBlur:s,className:Q.a.input}),n.a.createElement("label",{htmlFor:"email",style:{display:"block"}},"password"),n.a.createElement(L.a,{id:"password",placeholder:"Enter your name",type:"password",value:t.password,onChange:o,onBlur:s,className:Q.a.input}),""!==a&&"undefined"!==a&&n.a.createElement("div",{className:Q.a.errors},n.a.createElement(D.a,{message:"email or password ".concat(a["email or password"]),type:"error",showIcon:!0})),n.a.createElement("div",{className:Q.a.buttonsArea},n.a.createElement(R.b,{to:"/forum/Registration"},"Register"),n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"outline",onClick:function(){u(),c("")},disabled:!r||l},"Reset"),n.a.createElement("button",{type:"submit",disabled:l},"Submit"))))})))})),J=a(134),W=a(19),X=a.n(W),Z=a(133),Y=a(321),$=a(312),ee=a(320),te=a(323),ae=a(325),re=a(324),ne=a(308),ce=a(309),le=a(322),oe=a(310),se=a(316),ie=function(e){var t=Date.now();return n.a.createElement("div",null,Object(ne.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))>=60?n.a.createElement("h4",null,"".concat(Object(ne.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))-60*Object(oe.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))," min")):Object(ne.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))<1?n.a.createElement("h4",null,"less than minute"):n.a.createElement("h4",null,"".concat(Object(ne.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))," min")),Object(oe.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))>=24&&Object(oe.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))-24*Object(se.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))>0?n.a.createElement("h4",null,"".concat(Object(oe.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))-24*Object(se.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))," hours")):"",Object(oe.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))<24&&Object(oe.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))>0?n.a.createElement("h4",null," ","".concat(Object(oe.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))," hours")," "):"",Object(se.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))>0?n.a.createElement("h4",null,"".concat(Object(se.a)(t,Object(ce.a)(Object(le.a)("".concat(e))))," days ")):"")},ue=function(e,t){return 1===e?0:(e-1)*t},me=Object(T.b)((function(e){return{articles:e.articlesData.articles,pageSize:e.articlesData.pageSize,pageNumber:e.articlesData.pageNumber,isLoaded:e.articlesData.isLoaded,articlesQuantity:e.articlesData.articlesQuantity,favoriteArticles:e.articlesData.favoriteArticles}}),{setArticlesAC:function(e,t,a){return{type:"SET_ARTICLES_DATA",payload:{articles:e,articlesQuantity:t,isLoaded:a}}},setPageNumberAC:function(e){return{type:"SET_PAGENUMBER",pageNumber:e}},setLoadingAC:function(e){return{type:"SET_ISLOADED",isLoaded:e}},getArticle:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.get("/api/articles/".concat(e));case 3:r=t.sent,a(O(r.data.article)),a(A(!0)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(_(t.t0.response.data.errors));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},getSlugAC:function(e){return{type:"GET_SLUG",slug:e}},deleteArticle:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.delete("/api/articles/".concat(e));case 3:t.sent,a(C(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(_(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},unfavoriteArticle:w,likeArticle:j,setFavoriteAC:function(e){return{type:"MAKE_FAVORITE",slug:e}},setUnfavoriteAC:function(e){return{type:"MAKE_UNFAVORITE",slug:e}},setStatusAC:function(e){return{type:"SET_STATUS",status:e}},setErrorAC:_,setRecievedAC:A,setLoggedin:b})((function(e){var t=Object(V.g)(),a=G(),c=e.articles,l=e.pageSize,o=e.pageNumber,s=e.setArticlesAC,m=e.setLoadingAC,p=e.setPageNumberAC,f=e.getSlugAC,E=e.setFavoriteAC,g=e.setUnfavoriteAC,b=(e.setErrorAC,e.getArticle),h=e.setRecievedAC,v=e.setLoggedin,_=(Date.now(),Object(r.useState)(1)),y=Object(J.a)(_,2),C=y[0],A=y[1],O=Object(r.useState)(e.pageNumber),j=Object(J.a)(O,2),w=j[0],I=j[1];Object(r.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.get("/api/articles?offset=".concat(ue(o,l),"&limit=").concat(l));case 3:t=e.sent,s(t.data.articles,t.data.articlesCount,!0,t.data.favorited),A(Math.ceil(t.data.articlesCount/l)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0&&console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[o]);var S=function(e){t.push("/forum/article"),localStorage.setItem("slug",e),f(e)},k=function(){console.log("Notification was closed. Either the close button was clicked or duration time elapsed.")},N=function(t){var a="open".concat(Date.now()),r=n.a.createElement(Z.a,{type:"primary",size:"small",onClick:function(){Y.a.close(a),function(t){e.deleteArticle(t)}(t)}},"Confirm");Y.a.open({message:"Notification Title",description:"Are you really want to delete this article?",btn:r,key:a,onClose:k})};return n.a.createElement("div",{className:X.a.wrapper},z()?n.a.createElement("div",{className:X.a.registered}," ",n.a.createElement("button",{onClick:function(){t.push("/forum/developmentPage"),h(!0)}}," ",n.a.createElement("h4",null,"Create Article")),n.a.createElement("button",{onClick:function(){return localStorage.removeItem("cool-jwt"),e.history.push("/forum/LoginPage"),e.setStatusAC({data:401})}}," ",n.a.createElement("h4",null," Log Out")," ")," "):n.a.createElement("div",{className:X.a.registered}," ",n.a.createElement("button",{onClick:function(){e.setStatusAC({data:401}),t.push("/forum/LoginPage"),v(!1)},className:X.a.articles}," ",n.a.createElement("h4",null,"Login"))," "),n.a.createElement("div",{className:X.a.pagination},0!==C&&n.a.createElement($.a,{defaultCurrent:1,current:w,onChange:function(e){m(!1),p(e),I(e)},showSizeChanger:!1,pageSize:e.pageSize,total:e.articlesQuantity})),n.a.createElement("ul",{className:X.a.ul},"undefined"!==c&&e.isLoaded&&c.map((function(r,c){return n.a.createElement("li",{key:c,onClick:function(){return S(r.slug)}},n.a.createElement("div",{className:X.a.card},n.a.createElement("img",{src:"https://cdn.jevelin.shufflehound.com/wp-content/uploads/sites/11/2016/11/14-768x720.jpg",alt:"mountain"}),n.a.createElement("div",{className:X.a.Card_leftside},n.a.createElement("div",{className:X.a.authorInfo},n.a.createElement("div",{className:X.a.dateValue},n.a.createElement("p",null,"created by ".concat(r.author.username)),n.a.createElement("div",{className:X.a.reversedDate},n.a.createElement("h4",null,ie(r.createdAt))),n.a.createElement("h4",null,"ago")),n.a.createElement("h2",null,r.title),r.tagList.length>0?n.a.createElement("h4",null,"tags: ".concat(r.tagList.join(", "))):n.a.createElement("h4",null,"tags: -")),n.a.createElement("div",{className:X.a.cardFooter},a===r.author.username&&n.a.createElement("button",{className:X.a.change,onClick:function(e){e.stopPropagation(),S(r.slug),b(r.slug),t.push("/forum/developmentPage")}},n.a.createElement("h4",null," Change Article ",n.a.createElement(ee.a,null))),a===r.author.username&&n.a.createElement("button",{className:X.a.delete,onClick:function(e){e.stopPropagation(),N(r.slug)}},n.a.createElement("h4",null," Delete Article ",n.a.createElement(te.a,null))),z()&&n.a.createElement("div",null,r.favorited?n.a.createElement("button",{onClick:function(t){var a;t.stopPropagation(),a=r.slug,e.unfavoriteArticle(a),g(a)}},n.a.createElement("h5",null,n.a.createElement(ae.a,null)),n.a.createElement("h5",null,r.favoritesCount)):n.a.createElement("button",{onClick:function(t){var a;t.stopPropagation(),a=r.slug,e.likeArticle(a),E(a)}},n.a.createElement("h5",null,n.a.createElement(re.a,null)),n.a.createElement("h5",null,r.favoritesCount))),!z()&&n.a.createElement("h5",null,"likes: ",r.favoritesCount)))))}))),n.a.createElement("div",null,n.a.createElement("p",null,!e.isLoaded&&"...loading")))})),pe=a(189),de=function(e){var t=e.component,a=e.loggedIn,r=Object(pe.a)(e,["component","loggedIn"]);return n.a.createElement(V.b,Object.assign({},r,{render:function(e){return console.log(e),!0===a?n.a.createElement(t,e):n.a.createElement(V.a,{to:{pathname:"/forum/LoginPage",state:{from:e.location}}})}}))},fe=a(311),Ee=a(69),ge=a.n(Ee),be=Object(T.b)((function(e){return{article:e.articlesData.currentArticle}}),{unfavoriteArticle:w,likeArticle:j,setFavoriteCurrentAC:function(e){return{type:"MAKE_FAVORITE_CURRENT_ARTICLE",slug:e}},setUnfavoriteCurrentAC:function(e){return{type:"MAKE_UNFAVORITE_CURRENT_ARTICLE",slug:e}},getCurrentArticleAC:O})((function(e){var t=e.setFavoriteCurrentAC,a=e.setUnfavoriteCurrentAC,c=e.likeArticle,l=e.unfavoriteArticle,o=e.article,s=o.body,m=o.author,p=o.createdAt,f=o.description,E=(o.favoritesCount,o.favorited,o.title),g=o.tagList,b=(o.updatedAt,Date.now(),Object(V.g)()),h=localStorage.getItem("slug");Object(r.useEffect)((function(){null!==h&&function(){var t=Object(u.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.get("/api/articles/".concat(h));case 3:a=t.sent,e.getCurrentArticleAC(a.data.article),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0&&console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()()}),[h,s]);return n.a.createElement("div",{className:ge.a.wrapper},n.a.createElement("button",{className:ge.a.redirect,onClick:function(){b.push("/forum/articles"),localStorage.setItem("slug",""),e.getCurrentArticleAC({})},type:"primary",key:"console"},"Atricles"),o.hasOwnProperty("body")?n.a.createElement("div",{className:ge.a.body},n.a.createElement("img",{src:"https://cdn.jevelin.shufflehound.com/wp-content/uploads/sites/28/2019/09/101_0001_alexandru-acea-bbokzTQjB9o-unsplash-1024x777.jpg",alt:"pic"}),n.a.createElement("div",{className:ge.a.dateValue},n.a.createElement("p",null,"created by ".concat(m.username)),n.a.createElement("div",{className:ge.a.reversedDate},n.a.createElement("h4",null," ",ie(p))),n.a.createElement("h4",null,"ago")),n.a.createElement("h2",null,E),n.a.createElement("h5",null,"description: ".concat(f)),n.a.createElement("div",{className:ge.a.article_body},n.a.createElement("p",null,s)),n.a.createElement("ul",null,n.a.createElement("span",null,g.length>0?"tags:":"tags: -"),g.map((function(e,t){return n.a.createElement("li",{key:t},n.a.createElement("p",null,e))}))),z()&&n.a.createElement("div",null,o.favorited?n.a.createElement("button",{onClick:function(e){var t;e.stopPropagation(),t=M(),l(t),a(t)}},n.a.createElement("h5",null,n.a.createElement(ae.a,null)),n.a.createElement("h5",null,o.favoritesCount)):n.a.createElement("button",{disabled:!z(),onClick:function(e){var a;e.stopPropagation(),a=M(),c(a),t(a)}},n.a.createElement("h5",null,n.a.createElement(re.a,null)),n.a.createElement("h5",null,o.favoritesCount))),!z()&&n.a.createElement("h5",null,"likes: ".concat(o.favoritesCount))):n.a.createElement("div",null,n.a.createElement(fe.a,null)))})),he=a(315),ve=a(40),_e=a.n(ve),ye=(a(302),a(135)),Ce=a(181),Ae=a(182),Oe=a(187),je=a(183),we=a(188),Ie=(a(303),a(318)),Se=a(314),ke=a(319),Ne=function(e){function t(){var e,a;Object(Ce.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(Oe.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n)))).state={tags:a.props.tagList,inputVisible:!1,inputValue:"",editInputIndex:-1,editInputValue:""},a.handleClose=function(e){var t=a.state.tags.filter((function(t){return t!==e}));a.props.updateTagList(t),a.setState({tags:t})},a.showInput=function(){a.setState({inputVisible:!0},(function(){return a.input.focus()}))},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.state.tags;e&&-1===t.indexOf(e)&&(t=[].concat(Object(ye.a)(t),[e])),a.props.updateTagList(t),a.setState({tags:t,inputVisible:!1,inputValue:""})},a.handleEditInputChange=function(e){a.setState({editInputValue:e.target.value})},a.handleEditInputConfirm=function(){a.setState((function(e){var t=e.tags,a=e.editInputIndex,r=e.editInputValue,n=Object(ye.a)(t);return n[a]=r,{tags:n,editInputIndex:-1,editInputValue:""}}))},a.saveInputRef=function(e){return a.input=e},a.saveEditInputRef=function(e){return a.editInput=e},a}return Object(we.a)(t,e),Object(Ae.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.tags,r=t.inputVisible,c=t.inputValue,l=t.editInputIndex,o=t.editInputValue;return n.a.createElement("div",null,a.map((function(t,a){if(l===a)return n.a.createElement(L.a,{ref:e.saveEditInputRef,key:t,size:"small",className:"tag-input",value:o,onChange:e.handleEditInputChange,onBlur:e.handleEditInputConfirm,onPressEnter:e.handleEditInputConfirm});var r=t.length>20,c=n.a.createElement(Ie.a,{className:"edit-tag",color:"#108ee9",key:t,closable:!0,onClose:function(){return e.handleClose(t)}},n.a.createElement("span",{onDoubleClick:function(r){0!==a&&(e.setState({editInputIndex:a,editInputValue:t},(function(){e.editInput.focus()})),r.preventDefault())}},r?"".concat(t.slice(0,20),"..."):t));return r?n.a.createElement(Se.a,{title:t,key:t},c):c})),r&&n.a.createElement(L.a,{ref:this.saveInputRef,type:"text",size:"small",className:"tag-input",value:c,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!r&&n.a.createElement(Ie.a,{className:"site-tag-plus",onClick:this.showInput},n.a.createElement(ke.a,null)," New Tag"))}}]),t}(n.a.Component),Te=Object(T.b)((function(e){return{isCreated:e.articlesData.isCreated,status:e.userData.status,currentArticle:e.articlesData.currentArticle,isReceived:e.articlesData.isReceived}}),{createArticleThunk:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e,p.post("/api/articles",r);case 3:t.sent,a(y(!0)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response),a(_(t.t0.response.data.errors));case 11:case"end":return t.stop()}var r}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},setCreatedAC:y,setErrorAC:_,getCurrentArticleAC:O,setRecievedAC:A})((function(e){var t=e.createArticleThunk,a=e.isCreated,c=e.setCreatedAC,l=e.setErrorAC,o=e.currentArticle,s=e.isReceived,f=e.getCurrentArticleAC,E=e.setRecievedAC,g=o.body,b=o.description,h=o.title,v=o.tagList,_=Object(V.g)(),y=localStorage.getItem("slug");Object(r.useEffect)((function(){null!==y&&!1===s&&function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.get("/api/articles/".concat(y));case 3:t=e.sent,f(t.data.article),E(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0&&console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[g,s]);var C=function(){_.push("/forum/articles"),c(!1),l(""),f({}),E(!1)};return n.a.createElement("div",{className:_e.a.wrapper},a&&n.a.createElement(he.a,{status:"success",title:o.hasOwnProperty("body")?"Article updated successfully":"Article created successfully",extra:[n.a.createElement("button",{onClick:C,type:"primary",key:"console"},"Go to Atricles page ")]}),!s&&n.a.createElement(fe.a,{size:"large"}),!a&&s&&n.a.createElement(x.a,{initialValues:{title:h||"",description:b||"",body:g||"",tagList:v||[]},onSubmit:function(){var e=Object(u.a)(i.a.mark((function e(a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:o.hasOwnProperty("body")?(r=Object(m.a)({},a),0===a.tagList.length&&(r.tagList=[""]),n={article:{title:r.title,description:r.description,body:r.body,tagList:r.tagList}},p.put("/api/articles/".concat(localStorage.getItem("slug")),n),c(!0)):(t({article:{title:a.title,description:a.description,body:a.body,tagList:a.tagList}}),c(!0));case 3:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:P.a().shape({title:P.c().required("field shouldnt be empty"),description:P.c().required("field shouldnt be empty"),body:P.c().required("field shouldnt be empty")})},(function(e){var t=e.values,a=e.dirty,r=e.errors,c=e.touched,o=e.isSubmitting,s=e.handleChange,i=e.handleBlur,u=e.handleSubmit,m=e.handleReset,p=e.setFieldValue;return n.a.createElement("div",null,n.a.createElement("button",{onClick:C,className:_e.a.articles}," ",n.a.createElement("p",null," Atricles")),n.a.createElement("form",{onSubmit:u,className:_e.a.form},n.a.createElement("label",{htmlFor:"email",style:{display:"block"}},"Title"),n.a.createElement(L.a,{id:"title",placeholder:"Enter title of article",type:"text",value:t.title,onChange:s,onBlur:i,className:_e.a.input}),r.title&&c.title&&n.a.createElement("div",{className:_e.a.errors},n.a.createElement(D.a,{message:r.title,type:"error",showIcon:!0})),n.a.createElement("label",{htmlFor:"email",style:{display:"block"}},"Description"),n.a.createElement(L.a,{id:"description",placeholder:"Enter description of article",type:"text",value:t.description,onChange:s,onBlur:i,className:_e.a.input}),r.description&&c.description&&n.a.createElement("div",{className:_e.a.errors},n.a.createElement(D.a,{message:r.description,type:"error",showIcon:!0})),n.a.createElement("label",{htmlFor:"email",style:{display:"block"}},"Body"),n.a.createElement(L.a.TextArea,{id:"body",placeholder:"Enter body of article",type:"text",value:t.body,onChange:s,onBlur:i,className:_e.a.input}),r.body&&c.body&&n.a.createElement("div",{className:_e.a.errors},n.a.createElement(D.a,{message:r.body,type:"error",showIcon:!0})),n.a.createElement(Ne,{tagList:t.tagList,updateTagList:function(e){p("tagList",e)}}),n.a.createElement("div",{className:_e.a.buttonsArea},n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"outline",onClick:function(){l(""),m()},disabled:!a||o},"Reset"),n.a.createElement("button",{type:"submit",disabled:o},"Submit")))))})))})),Re=Object(T.b)((function(e){return{loggedIn:e.userData.loggedIn}}))((function(e){return n.a.createElement(V.d,null,n.a.createElement(V.b,{path:"/forum/LoginPage",component:H}),n.a.createElement(V.b,{path:"/forum/articles",component:me}),n.a.createElement(V.b,{path:"/forum/Registration",component:K}),n.a.createElement(V.b,{path:"/forum/developmentPage",component:Te}),n.a.createElement(V.b,{path:"/forum/article",component:be}),n.a.createElement(V.b,{path:"/forum/editPage",component:Te}),n.a.createElement(de,{exact:!0,path:"/forum/",component:me,loggedIn:e.loggedIn}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(R.a,null,n.a.createElement(T.a,{store:N},n.a.createElement(Re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,t,a){e.exports={wrapper:"registration_wrapper__3w-sm",form:"registration_form__1d1UH",input:"registration_input__3F6qd",buttonsArea:"registration_buttonsArea__18T8o",errors:"registration_errors__1_bjh"}},40:function(e,t,a){e.exports={wrapper:"add_wrapper__2yR5Y",tagsArea:"add_tagsArea__2Xt_i",tagsUl:"add_tagsUl__1KwEj",tagsInput:"add_tagsInput__3gxU1",form:"add_form__mJaet",input:"add_input__38-jZ",buttonsArea:"add_buttonsArea__vAAl_",errors:"add_errors__1rtCm"}},63:function(e,t,a){e.exports={wrapper:"login_wrapper__1DHUi",articles:"login_articles__kOmqn",form:"login_form__2l9yv",input:"login_input__2o3z6",buttonsArea:"login_buttonsArea__1JAdq",errors:"login_errors__H-sF-"}},69:function(e,t,a){e.exports={wrapper:"current_wrapper__2mrkJ",redirect:"current_redirect__3P4--",dateValue:"current_dateValue__2Jam1",reversedDate:"current_reversedDate__2diIZ",body:"current_body__W34vA",article_body:"current_article_body__3azvy"}}},[[191,1,2]]]);
//# sourceMappingURL=main.119d6261.chunk.js.map